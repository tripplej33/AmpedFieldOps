# AmpedFieldOps Backend Environment Variables
# Copy this file to .env and fill in your values

# ============================================
# REQUIRED - Database Configuration
# ============================================
# PostgreSQL connection string (for direct database access)
# For Supabase local: postgresql://postgres:postgres@127.0.0.1:54322/postgres
# For Supabase production: Get from Supabase dashboard or use connection pooling
# Format: postgresql://username:password@host:port/database
# 
# Note: This is used for:
# - Database backups
# - Direct SQL queries (legacy routes)
# - Migrations
#
# For local Supabase, run: supabase status
# The DB URL will be shown in the output
DATABASE_URL=postgresql://postgres:postgres@127.0.0.1:54322/postgres

# ============================================
# REQUIRED - Supabase Configuration
# ============================================
# Supabase Service Role Key (for backend operations)
# Get from: supabase status (local) or Supabase dashboard (production)
# WARNING: Keep this secret! Never expose in frontend code.
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key-here

# Supabase URL
# For local: http://127.0.0.1:54321
# For production: https://your-domain.com or http://your-server-ip:8000
SUPABASE_URL=http://127.0.0.1:54321

# ============================================
# REMOVED - No longer needed with Supabase
# ============================================
# JWT_SECRET - Supabase handles JWT generation

# ============================================
# REQUIRED - Server Configuration
# ============================================
# Backend server port
PORT=3001

# Environment (development, production, test)
NODE_ENV=development

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:5173

# Backend URL (optional, defaults to http://localhost:PORT)
BACKEND_URL=http://localhost:3001

# ============================================
# OPTIONAL - Xero Integration
# ============================================
# Xero OAuth 2.0 credentials
# Get these from: https://developer.xero.com/app/manage
XERO_CLIENT_ID=
XERO_CLIENT_SECRET=
XERO_REDIRECT_URI=http://localhost:3001/api/xero/callback

# ============================================
# OPTIONAL - Redis (for job queues)
# ============================================
# Redis connection for BullMQ job queues
# Leave empty if not using Redis (queue will retry without Redis)
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=

# ============================================
# OPTIONAL - Email/SMTP Configuration
# ============================================
# SMTP settings for sending emails
# These are fallback values - can also be configured in Settings page
# For Gmail: Use App Password (not regular password)
# For SendGrid: Use API key as password
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM=

# ============================================
# OPTIONAL - AWS S3 (for cloud file storage)
# ============================================
# AWS S3 credentials for cloud file storage
# Leave empty to use local file storage
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=
AWS_S3_BUCKET=

# ============================================
# OPTIONAL - Google Drive (for backups)
# ============================================
# Google Drive OAuth credentials for backup storage
# Configured through Settings page, but can be set here as fallback
GOOGLE_DRIVE_CLIENT_ID=
GOOGLE_DRIVE_CLIENT_SECRET=
GOOGLE_DRIVE_REDIRECT_URI=http://localhost:3001/api/backups/google-drive/callback
